var localhost = "http://127.0.0.1:7545"//端口也需手改
var Web3 = require("web3")
var ac1="0x8FA54a3AF4FE0c0a15BC5795012E69a92C4610Ca"////此处需要手动改成账户地址
var web3 = new Web3(new Web3.providers.HttpProvider(localhost))
web3.eth.getAccounts(function (error, result) {
    console.log("账户列表地址：");
    console.log(result);
});
var flContract = new web3.eth.Contract([{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"localModelloss","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"localModelCount","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"globalModel","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"modelName","type":"bytes32"}],"name":"getGlobalModel","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getModelList","outputs":[{"name":"","type":"bytes32[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"modelName","type":"bytes32"}],"name":"getLocalUpdates","outputs":[{"name":"","type":"string"},{"name":"","type":"string"},{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"learningRate","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"modelName","type":"bytes32"}],"name":"getBatchSize","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"modelNameList","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"neuralNetworkCode","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"modelDescriptionList","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"batchSize","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"modelName","type":"bytes32"},{"name":"model","type":"string"}],"name":"updateGlobalModel","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"modelName","type":"bytes32"}],"name":"getNeuralNetworkCode","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"localIter","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"modelName","type":"bytes32"}],"name":"deleteModel","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"localModels","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"modelName","type":"bytes32"}],"name":"getModelDescription","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"modelName","type":"bytes32"}],"name":"getLocalIter","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"modelName","type":"bytes32"},{"name":"modelupdates","type":"string"},{"name":"countUpdates","type":"string"},{"name":"loss","type":"string"}],"name":"uploadLocalUpdates","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"modelName","type":"bytes32"},{"name":"modelDescription","type":"string"},{"name":"initialModel","type":"string"},{"name":"nnCode","type":"string"},{"name":"lr","type":"bytes32"},{"name":"bs","type":"uint8"},{"name":"iter","type":"uint8"}],"name":"addModel","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"modelName","type":"bytes32"}],"name":"getLearningRate","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"}]);
var fl = flContract.deploy({
     data: '0x608060405234801561001057600080fd5b5061226a806100206000396000f300608060405260043610610128576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630e138c301461012d57806312431b99146101d75780632f869c5f1461028157806346dc8be21461032b5780634c15a9c4146103d55780634de98433146104415780637046adde146105c357806377347c9614610610578063a171eb5a1461065b578063a24523be146106a4578063b978df491461074e578063be596509146107f8578063d26c635014610843578063dc1f8011146108ba578063e9f67ba214610964578063ed3d7edc146109af578063f02dd716146109e0578063f818e7da14610a8a578063f8f424d614610b34578063fa9bd9f314610b7f578063fadd562f14610c82578063fb94a22d14610dad575b600080fd5b34801561013957600080fd5b5061015c6004803603810190808035600019169060200190929190505050610dfa565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561019c578082015181840152602081019050610181565b50505050905090810190601f1680156101c95780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156101e357600080fd5b506102066004803603810190808035600019169060200190929190505050610eaa565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561024657808201518184015260208101905061022b565b50505050905090810190601f1680156102735780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561028d57600080fd5b506102b06004803603810190808035600019169060200190929190505050610f5a565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156102f05780820151818401526020810190506102d5565b50505050905090810190601f16801561031d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561033757600080fd5b5061035a600480360381019080803560001916906020019092919050505061100a565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561039a57808201518184015260208101905061037f565b50505050905090810190601f1680156103c75780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156103e157600080fd5b506103ea6110df565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b8381101561042d578082015181840152602081019050610412565b505050509050019250505060405180910390f35b34801561044d57600080fd5b50610470600480360381019080803560001916906020019092919050505061113b565b60405180806020018060200180602001848103845287818151815260200191508051906020019080838360005b838110156104b857808201518184015260208101905061049d565b50505050905090810190601f1680156104e55780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b8381101561051e578082015181840152602081019050610503565b50505050905090810190601f16801561054b5780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b83811015610584578082015181840152602081019050610569565b50505050905090810190601f1680156105b15780820380516001836020036101000a031916815260200191505b50965050505050505060405180910390f35b3480156105cf57600080fd5b506105f2600480360381019080803560001916906020019092919050505061138a565b60405180826000191660001916815260200191505060405180910390f35b34801561061c57600080fd5b5061063f60048036038101908080356000191690602001909291905050506113a2565b604051808260ff1660ff16815260200191505060405180910390f35b34801561066757600080fd5b50610686600480360381019080803590602001909291905050506113eb565b60405180826000191660001916815260200191505060405180910390f35b3480156106b057600080fd5b506106d3600480360381019080803560001916906020019092919050505061140e565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156107135780820151818401526020810190506106f8565b50505050905090810190601f1680156107405780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561075a57600080fd5b5061077d60048036038101908080356000191690602001909291905050506114be565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156107bd5780820151818401526020810190506107a2565b50505050905090810190601f1680156107ea5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561080457600080fd5b50610827600480360381019080803560001916906020019092919050505061156e565b604051808260ff1660ff16815260200191505060405180910390f35b34801561084f57600080fd5b506108b86004803603810190808035600019169060200190929190803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929050505061158e565b005b3480156108c657600080fd5b506108e96004803603810190808035600019169060200190929190505050611628565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561092957808201518184015260208101905061090e565b50505050905090810190601f1680156109565780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561097057600080fd5b5061099360048036038101908080356000191690602001909291905050506116fd565b604051808260ff1660ff16815260200191505060405180910390f35b3480156109bb57600080fd5b506109de600480360381019080803560001916906020019092919050505061171d565b005b3480156109ec57600080fd5b50610a0f600480360381019080803560001916906020019092919050505061190a565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610a4f578082015181840152602081019050610a34565b50505050905090810190601f168015610a7c5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b348015610a9657600080fd5b50610ab960048036038101908080356000191690602001909291905050506119ba565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610af9578082015181840152602081019050610ade565b50505050905090810190601f168015610b265780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b348015610b4057600080fd5b50610b636004803603810190808035600019169060200190929190505050611a8f565b604051808260ff1660ff16815260200191505060405180910390f35b348015610b8b57600080fd5b50610c806004803603810190808035600019169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611ad8565b005b348015610c8e57600080fd5b50610dab6004803603810190808035600019169060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192908035600019169060200190929190803560ff169060200190929190803560ff169060200190929190505050611ea1565b005b348015610db957600080fd5b50610ddc600480360381019080803560001916906020019092919050505061208f565b60405180826000191660001916815260200191505060405180910390f35b60096020528060005260406000206000915090508054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610ea25780601f10610e7757610100808354040283529160200191610ea2565b820191906000526020600020905b815481529060010190602001808311610e8557829003601f168201915b505050505081565b60086020528060005260406000206000915090508054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610f525780601f10610f2757610100808354040283529160200191610f52565b820191906000526020600020905b815481529060010190602001808311610f3557829003601f168201915b505050505081565b60026020528060005260406000206000915090508054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156110025780601f10610fd757610100808354040283529160200191611002565b820191906000526020600020905b815481529060010190602001808311610fe557829003601f168201915b505050505081565b60606000611017836120cb565b1215151561102457600080fd5b6002600083600019166000191681526020019081526020016000208054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156110d35780601f106110a8576101008083540402835291602001916110d3565b820191906000526020600020905b8154815290600101906020018083116110b657829003601f168201915b50505050509050919050565b6060600080548060200260200160405190810160405280929190818152602001828054801561113157602002820191906000526020600020905b81546000191681526020019060010190808311611119575b5050505050905090565b6060806060600061114b856120cb565b1215151561115857600080fd5b600760008560001916600019168152602001908152602001600020600860008660001916600019168152602001908152602001600020600960008760001916600019168152602001908152602001600020828054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561123e5780601f106112135761010080835404028352916020019161123e565b820191906000526020600020905b81548152906001019060200180831161122157829003601f168201915b50505050509250818054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156112da5780601f106112af576101008083540402835291602001916112da565b820191906000526020600020905b8154815290600101906020018083116112bd57829003601f168201915b50505050509150808054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156113765780601f1061134b57610100808354040283529160200191611376565b820191906000526020600020905b81548152906001019060200180831161135957829003601f168201915b505050505090509250925092509193909250565b60046020528060005260406000206000915090505481565b6000806113ae836120cb565b121515156113bb57600080fd5b60056000836000191660001916815260200190815260200160002060009054906101000a900460ff169050919050565b6000818154811015156113fa57fe5b906000526020600020016000915090505481565b60036020528060005260406000206000915090508054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156114b65780601f1061148b576101008083540402835291602001916114b6565b820191906000526020600020905b81548152906001019060200180831161149957829003601f168201915b505050505081565b60016020528060005260406000206000915090508054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156115665780601f1061153b57610100808354040283529160200191611566565b820191906000526020600020905b81548152906001019060200180831161154957829003601f168201915b505050505081565b60056020528060005260406000206000915054906101000a900460ff1681565b6000611599836120cb565b121515156115a657600080fd5b8060026000846000191660001916815260200190815260200160002090805190602001906115d5929190612151565b5060076000836000191660001916815260200190815260200160002060006115fd91906121d1565b600860008360001916600019168152602001908152602001600020600061162491906121d1565b5050565b60606000611635836120cb565b1215151561164257600080fd5b6003600083600019166000191681526020019081526020016000208054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156116f15780601f106116c6576101008083540402835291602001916116f1565b820191906000526020600020905b8154815290600101906020018083116116d457829003601f168201915b50505050509050919050565b60066020528060005260406000206000915054906101000a900460ff1681565b600080611729836120cb565b12151561190657611739826120cb565b9050600060016000805490500381548110151561175257fe5b906000526020600020015460008260ff1681548110151561176f57fe5b906000526020600020018160001916905550600060016000805490500381548110151561179857fe5b906000526020600020016000905560026000836000191660001916815260200190815260200160002060006117cd91906121d1565b60016000836000191660001916815260200190815260200160002060006117f491906121d1565b600760008360001916600019168152602001908152602001600020600061181b91906121d1565b600860008360001916600019168152602001908152602001600020600061184291906121d1565b600960008360001916600019168152602001908152602001600020600061186991906121d1565b600360008360001916600019168152602001908152602001600020600061189091906121d1565b6004600083600019166000191681526020019081526020016000206000905560056000836000191660001916815260200190815260200160002060006101000a81549060ff021916905560066000836000191660001916815260200190815260200160002060006101000a81549060ff02191690555b5050565b60076020528060005260406000206000915090508054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156119b25780601f10611987576101008083540402835291602001916119b2565b820191906000526020600020905b81548152906001019060200180831161199557829003601f168201915b505050505081565b606060006119c7836120cb565b121515156119d457600080fd5b6001600083600019166000191681526020019081526020016000208054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611a835780601f10611a5857610100808354040283529160200191611a83565b820191906000526020600020905b815481529060010190602001808311611a6657829003601f168201915b50505050509050919050565b600080611a9b836120cb565b12151515611aa857600080fd5b60066000836000191660001916815260200190815260200160002060009054906101000a900460ff169050919050565b6000611ae3856120cb565b12151515611af057600080fd5b600760008560001916600019168152602001908152602001600020836040516020018083805460018160011615610100020316600290048015611b6a5780601f10611b48576101008083540402835291820191611b6a565b820191906000526020600020905b815481529060010190602001808311611b56575b505082805190602001908083835b602083101515611b9d5780518252602082019150602081019050602083039250611b78565b6001836020036101000a038019825116818451168082178552505050505050905001807f3c3e000000000000000000000000000000000000000000000000000000000000815250600201925050506040516020818303038152906040526007600086600019166000191681526020019081526020016000209080519060200190611c28929190612151565b50600860008560001916600019168152602001908152602001600020826040516020018083805460018160011615610100020316600290048015611ca35780601f10611c81576101008083540402835291820191611ca3565b820191906000526020600020905b815481529060010190602001808311611c8f575b505082805190602001908083835b602083101515611cd65780518252602082019150602081019050602083039250611cb1565b6001836020036101000a038019825116818451168082178552505050505050905001807f3c3e000000000000000000000000000000000000000000000000000000000000815250600201925050506040516020818303038152906040526008600086600019166000191681526020019081526020016000209080519060200190611d61929190612151565b50600960008560001916600019168152602001908152602001600020816040516020018083805460018160011615610100020316600290048015611ddc5780601f10611dba576101008083540402835291820191611ddc565b820191906000526020600020905b815481529060010190602001808311611dc8575b505082805190602001908083835b602083101515611e0f5780518252602082019150602081019050602083039250611dea565b6001836020036101000a038019825116818451168082178552505050505050905001807f3c3e000000000000000000000000000000000000000000000000000000000000815250600201925050506040516020818303038152906040526009600086600019166000191681526020019081526020016000209080519060200190611e9a929190612151565b5050505050565b6000611eac886120cb565b121515611eb857600080fd5b6000879080600181540180825580915050906001820390600052602060002001600090919290919091509060001916905550856001600089600019166000191681526020019081526020016000209080519060200190611f19929190612151565b50846002600089600019166000191681526020019081526020016000209080519060200190611f49929190612151565b50836003600089600019166000191681526020019081526020016000209080519060200190611f79929190612151565b508260046000896000191660001916815260200190815260200160002081600019169055508160056000896000191660001916815260200190815260200160002060006101000a81548160ff021916908360ff1602179055508060066000896000191660001916815260200190815260200160002060006101000a81548160ff021916908360ff16021790555060206040519081016040528060008152506007600089600019166000191681526020019081526020016000209080519060200190612045929190612151565b5060206040519081016040528060008152506008600089600019166000191681526020019081526020016000209080519060200190612085929190612151565b5050505050505050565b60008061209b836120cb565b121515156120a857600080fd5b600460008360001916600019168152602001908152602001600020549050919050565b600080600090505b6000805490508160ff1610156121275760008160ff168154811015156120f557fe5b9060005260206000200154600019168360001916141561211a578060ff16915061214b565b80806001019150506120d3565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff91505b50919050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061219257805160ff19168380011785556121c0565b828001600101855582156121c0579182015b828111156121bf5782518255916020019190600101906121a4565b5b5090506121cd9190612219565b5090565b50805460018160011615610100020316600290046000825580601f106121f75750612216565b601f0160209004906000526020600020908101906122159190612219565b5b50565b61223b91905b8082111561223757600081600090555060010161221f565b5090565b905600a165627a7a72305820f3a6c0e257fa528a68a1ab4349dc33944e6c3f778a91037d6971169c8f9577950029', 
     arguments: [
     ]
}).send({
     from: ac1, 
     gas: '4700000'
   }, function (e, contract){
    console.log(e, contract);
    if (typeof contract.address !== 'undefined') {
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
 })
